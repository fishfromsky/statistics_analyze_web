(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efb264d0"],{"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),s=a("d8e8"),r=a("4bf8"),n=a("79e5"),o=[].sort,c=[1,2,3];i(i.P+i.F*(n((function(){c.sort(void 0)}))||!n((function(){c.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(r(this)):o.call(r(this),s(t))}})},8960:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("el-select",{model:{value:t.district_choose,callback:function(e){t.district_choose=e},expression:"district_choose"}},t._l(t.district_options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("gdp",{staticStyle:{height:"35vh"},attrs:{chartData:t.BasicInfo.GDPData}})],1),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("gdpfirstindustry",{staticStyle:{height:"35vh"},attrs:{chartData:t.BasicInfo.GDP_First_Industry}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper",staticStyle:{"margin-top":"60px"}},[a("gdpsecondindustry",{staticStyle:{height:"35vh"},attrs:{chartData:t.BasicInfo.GDP_Second_Industry}})],1),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("gdpthirdindustry",{staticStyle:{height:"35vh"},attrs:{chartData:t.BasicInfo.GDP_Third_Industry}})],1)])],1),t._v(" "),a("div",{staticClass:"divider"}),t._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("el-select",{model:{value:t.district_choose_two,callback:function(e){t.district_choose_two=e},expression:"district_choose_two"}},t._l(t.district_options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-select",{model:{value:t.choose_year_two,callback:function(e){t.choose_year_two=e},expression:"choose_year_two"}},t._l(t.BasicInfo.GDPData.year,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("piedata",{staticStyle:{height:"35vh"},attrs:{chartData:t.PieInfo}})],1)],1),t._v(" "),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("el-select",{model:{value:t.choose_year_one,callback:function(e){t.choose_year_one=e},expression:"choose_year_one"}},t._l(t.total_year,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),a("div",{staticClass:"chart-wrapper"},[a("bardata",{staticStyle:{height:"35vh"},attrs:{chartData:t.BarInfo}})],1)],1)],1)],1)},s=[],r=(a("55dd"),a("6400")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},o=[],c=a("313e"),h=a.n(c),d=a("ed08"),l={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(d["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("56a5");var u={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){var e=t.gdp,a=t.year;this.chart.setOption({title:{text:t.district+"生产总值(GDP)"},grid:{},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"},axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value",name:"亿元",axisLabel:{formatter:"{value}"}}],series:[{name:"生产总值",type:"line",data:e}]})}}},p=u,f=a("2877"),y=Object(f["a"])(p,n,o,!1,null,"1b85eed3",null),_=y.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},v=[];a("56a5");var D={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){var e=t.gdp,a=t.year;this.chart.setOption({title:{text:t.district+"第一产业生产总值(GDP)"},grid:{},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"},axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value",name:"亿元",axisLabel:{formatter:"{value}"}}],series:[{name:"生产总值",type:"line",data:e}]})}}},b=D,m=Object(f["a"])(b,g,v,!1,null,"73df3c96",null),I=m.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},x=[];a("56a5");var P={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){var e=t.gdp,a=t.year;this.chart.setOption({title:{text:t.district+"第二产业生产总值(GDP)"},grid:{},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"},axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value",name:"亿元",axisLabel:{formatter:"{value}"}}],series:[{name:"生产总值",type:"line",data:e}]})}}},B=P,G=Object(f["a"])(B,w,x,!1,null,"e021445c",null),S=G.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},O=[];a("56a5");var E={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){var e=t.gdp,a=t.year;this.chart.setOption({title:{text:t.district+"第三产业生产总值(GDP)"},grid:{},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:[{type:"category",data:a,axisPointer:{type:"shadow"},axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value",name:"亿元",axisLabel:{formatter:"{value}"}}],series:[{name:"生产总值",type:"line",data:e}]})}}},z=E,F=Object(f["a"])(z,$,O,!1,null,"00a07648",null),C=F.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},A=[];a("56a5");var j={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({title:{text:t.district+t.year+"GDP分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},legend:{orient:"vertical",left:"left",data:["第一产业","第二产业","第三产业"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:t.data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},k=j,T=Object(f["a"])(k,R,A,!1,null,"f6dbc9e6",null),L=T.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{width:t.width,height:t.height}})},H=[];a("56a5");var q={name:"GDP",mixins:[l],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=h.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["GDP","第一产业GDP","第二产业GDP","第三产业GDP"]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},xAxis:[{type:"category",axisTick:{show:!1},data:t.district,axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value"}],series:[{name:"GDP",type:"bar",barGap:0,data:t.gdp},{name:"第一产业GDP",type:"bar",data:t.gdp_first_industry},{name:"第二产业GDP",type:"bar",data:t.gdp_second_industry},{name:"第三产业GDP",type:"bar",data:t.gdp_third_industry}]})}}},J=q,M=Object(f["a"])(J,N,H,!1,null,"445c3250",null),X=M.exports,Y={name:"index",components:{gdp:_,gdpfirstindustry:I,gdpsecondindustry:S,gdpthirdindustry:C,piedata:L,bardata:X},data:function(){return{total_year:[],choose_year_one:"2017",district_choose_two:"浦东新区",choose_year_two:"2017",district_choose:"浦东新区",district_options:[{label:"黄浦区",value:"黄浦区"},{label:"普陀区",value:"普陀区"},{label:"静安区",value:"静安区"},{label:"长宁区",value:"长宁区"},{label:"徐汇区",value:"徐汇区"},{label:"虹口区",value:"虹口区"},{label:"杨浦区",value:"杨浦区"},{label:"宝山区",value:"宝山区"},{label:"嘉定区",value:"嘉定区"},{label:"闵行区",value:"闵行区"},{label:"浦东新区",value:"浦东新区"},{label:"金山区",value:"金山区"},{label:"松江区",value:"松江区"},{label:"青浦区",value:"青浦区"},{label:"崇明区",value:"崇明区"},{label:"奉贤区",value:"奉贤区"}],BasicInfo:{GDPData:{year:[],gdp:[],district:""},GDP_First_Industry:{year:[],gdp:[],district:""},GDP_Second_Industry:{year:[],gdp:[],district:""},GDP_Third_Industry:{year:[],gdp:[],district:""}},PieInfo:{data:[],district:"",year:""},BarInfo:{district:[],gdp:[],gdp_first_industry:[],gdp_second_industry:[],gdp_third_industry:[]}}},watch:{district_choose:function(t){this.getGDPData(t)},district_choose_two:function(t){this.getPieData()},choose_year_two:function(t){this.getPieData()},choose_year_one:function(t){this.getBarData()}},methods:{isInArray:function(t,e){for(var a=0;a<t.length;a++)if(e===t[a])return!0;return!1},getGDPData:function(t){var e=this;this.total_year=[],0!=this.BasicInfo.GDPData.year.length&&(this.BasicInfo.GDPData.year=[]),0!=this.BasicInfo.GDPData.gdp.length&&(this.BasicInfo.GDPData.gdp=[]),0!=this.BasicInfo.GDP_First_Industry.year.length&&(this.BasicInfo.GDP_First_Industry.year=[]),0!=this.BasicInfo.GDP_First_Industry.gdp.length&&(this.BasicInfo.GDP_First_Industry.gdp=[]),0!=this.BasicInfo.GDP_Second_Industry.year.length&&(this.BasicInfo.GDP_Second_Industry.year=[]),0!=this.BasicInfo.GDP_Second_Industry.gdp.length&&(this.BasicInfo.GDP_Second_Industry.gdp=[]),0!=this.BasicInfo.GDP_Third_Industry.year.length&&(this.BasicInfo.GDP_Third_Industry.year=[]),0!=this.BasicInfo.GDP_Third_Industry.gdp.length&&(this.BasicInfo.GDP_Third_Industry.gdp=[]);var a={};a["district"]=t,Object(r["Hb"])(a).then((function(t){if(2e4===t.code){var a=t.data;a.sort((function(t,e){return parseInt(t.year)>parseInt(e.year)?1:-1}));for(var i=0;i<a.length;i++)e.isInArray(e.total_year,a[i]["year"])||e.total_year.push(a[i]["year"]),e.BasicInfo.GDPData.year.push(parseFloat(a[i]["year"])),e.BasicInfo.GDPData.gdp.push(parseFloat(a[i]["gdp"])),e.BasicInfo.GDPData.district=e.district_choose,e.BasicInfo.GDP_First_Industry.year.push(parseFloat(a[i]["year"])),e.BasicInfo.GDP_First_Industry.gdp.push(parseFloat(a[i]["gdp_first_industry"])),e.BasicInfo.GDP_First_Industry.district=e.district_choose,e.BasicInfo.GDP_Second_Industry.year.push(parseFloat(a[i]["year"])),e.BasicInfo.GDP_Second_Industry.gdp.push(parseFloat(a[i]["gdp_second_industry"])),e.BasicInfo.GDP_Second_Industry.district=e.district_choose,e.BasicInfo.GDP_Third_Industry.year.push(parseFloat(a[i]["year"])),e.BasicInfo.GDP_Third_Industry.gdp.push(parseFloat(a[i]["gdp_third_industry"])),e.BasicInfo.GDP_Third_Industry.district=e.district_choose}}))},getPieData:function(){var t=this,e=this.choose_year_two,a=this.district_choose_two,i={};0!=this.PieInfo.data.length&&(this.PieInfo.data=[]),i["district"]=a,i["year"]=e,Object(r["Lb"])(i).then((function(e){if(2e4===e.code){var a=e.data[0];t.PieInfo.data.push({value:parseFloat(a["gdp_first_industry"]),name:"第一产业"}),t.PieInfo.data.push({value:parseFloat(a["gdp_second_industry"]),name:"第二产业"}),t.PieInfo.data.push({value:parseFloat(a["gdp_third_industry"]),name:"第三产业"}),t.PieInfo.district=a["district"],t.PieInfo.year=a["year"]}}))},getData:function(){var t=this;Object(r["cc"])().then((function(e){if(2e4===e.code)for(var a=e.data,i=0;i<a.length;i++)t.isInArray(t.total_year,a[i]["year"])||t.total_year.push(a[i]["year"])}))},getBarData:function(){var t=this;0!=this.BarInfo.district.length&&(this.BarInfo.district=[]),0!=this.BarInfo.gdp.length&&(this.BarInfo.gdp=[]),0!=this.BarInfo.gdp_first_industry.length&&(this.BarInfo.gdp_first_industry=[]),0!=this.BarInfo.gdp_second_industry.length&&(this.BarInfo.gdp_second_industry=[]),0!=this.BarInfo.gdp_third_industry.length&&(this.BarInfo.gdp_third_industry=[]);var e={};e["year"]=this.choose_year_one,Object(r["Fb"])(e).then((function(e){if(2e4===e.code)for(var a=e.data,i=0;i<a.length;i++)t.BarInfo.district.push(a[i]["district"]),t.BarInfo.gdp.push(parseFloat(a[i]["gdp"])),t.BarInfo.gdp_first_industry.push(parseFloat(a[i]["gdp_first_industry"])),t.BarInfo.gdp_second_industry.push(parseFloat(a[i]["gdp_second_industry"])),t.BarInfo.gdp_third_industry.push(parseFloat(a[i]["gdp_third_industry"]))}))}},mounted:function(){this.getGDPData(this.district_choose),this.getPieData(),this.getData(),this.getBarData()}},K=Y,Q=(a("df2b"),Object(f["a"])(K,i,s,!1,null,"0bf5c805",null));e["default"]=Q.exports},df2b:function(t,e,a){"use strict";var i=a("f135"),s=a.n(i);s.a},ed08:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return r}));a("4917"),a("4f7f"),a("5df3"),a("1c4c"),a("28a5"),a("ac6a"),a("456d"),a("f576"),a("6b54"),a("3b2b"),a("a481");var i=a("7618");function s(t,e){if(0===arguments.length)return null;var a,s=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(t)?a=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),a=new Date(t));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},n=s.replace(/{([ymdhisa])+}/g,(function(t,e){var a=r[e];return"a"===e?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")}));return n}function r(t,e,a){var i,s,r,n,o,c=function c(){var h=+new Date-n;h<e&&h>0?i=setTimeout(c,e-h):(i=null,a||(o=t.apply(r,s),i||(r=s=null)))};return function(){for(var s=arguments.length,h=new Array(s),d=0;d<s;d++)h[d]=arguments[d];r=this,n=+new Date;var l=a&&!i;return i||(i=setTimeout(c,e)),l&&(o=t.apply(r,h),r=h=null),o}}},f135:function(t,e,a){}}]);