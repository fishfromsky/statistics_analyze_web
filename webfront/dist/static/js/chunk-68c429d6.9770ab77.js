(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c429d6"],{"54d0":function(e,t,a){},"8e26":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"header"},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.addClick}},[e._v("添加模型")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table_loading,expression:"table_loading"}],staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.page_data,stripe:""}},[a("el-table-column",{attrs:{label:"模型名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"项目分类",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.type))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模型描述",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("span",[e._v(e._s(l.description))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"模型图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("el-image",{staticStyle:{width:"70px",height:"50px"},attrs:{src:t.pic_url,"preview-src-list":[t.pic_url]}})]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px","margin-left":"2.5%"},attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.total_size},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{visible:e.add_dialog,title:"添加模型",width:"30%"},on:{"update:visible":function(t){e.add_dialog=t}}},[a("el-form",{attrs:{model:e.add_form}},[a("el-form-item",{attrs:{label:"模型名称"}},[a("el-input",{attrs:{placeholder:"请输入模型名称"},model:{value:e.add_form.name,callback:function(t){e.$set(e.add_form,"name",t)},expression:"add_form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"模型类型"}},[a("el-select",{attrs:{placeholder:"请选择模型类型"},model:{value:e.add_form.type,callback:function(t){e.$set(e.add_form,"type",t)},expression:"add_form.type"}},e._l(e.select_type,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模型描述"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入模型描述"},model:{value:e.add_form.describe,callback:function(t){e.$set(e.add_form,"describe",t)},expression:"add_form.describe"}})],1),e._v(" "),a("span",{staticClass:"model_pic_span"},[e._v("上传模型图片")]),e._v(" "),a("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-top":"10px"},attrs:{action:"http://101.133.238.216:8000/api/upload_img","on-remove":e.handleRemove,"on-success":e.uploadSuccess,"on-exceed":e.exceedFile,"file-list":e.fileList,limit:1,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.add_dialog=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.AddConfirm}},[e._v("确定")])],1)],1)],1)},i=[],n=(a("7f7f"),a("bd86")),o=a("6400"),s={data:function(){return{add_dialog:!1,table_loading:!1,tableData:[],page_data:[],total_size:0,currentPage:1,page_size:10,add_form:{name:"",type:"",describe:"",pic_url:""},select_type:[Object(n["a"])({value:"数据预测模型"},"value","数据预测模型"),Object(n["a"])({value:"数据拟合模型"},"value","数据聚类模型"),Object(n["a"])({value:"关联分析模型"},"value","关联分析模型")],fileList:[]}},methods:{uploadSuccess:function(e,t,a){this.add_form.pic_url=e.url},handleRemove:function(e,t){console.log(e,t)},addClick:function(){this.add_dialog=!0},AddConfirm:function(){var e=this,t=this;""===this.add_form.name||""===this.add_form.type||""===this.add_form.describe||""===this.add_form.pic_url?this.$message.error("表格未完善或未上传图片"):Object(o["xd"])(this.add_form).then((function(a){2e4===a.code&&(e.$message({type:"success",message:"增加成功"}),t.add_form.name=t.add_form.type=t.add_form.describe=t.add_form.pic_url="",t.add_dialog=!1,t.tableData=[],t.page_data=[],t.getData())}))},exceedFile:function(){this.$message.error("超出最大上传文件数")},getData:function(){var e=this;this.table_loading=!0,Object(o["Pb"])().then((function(t){if(2e4===t.code){e.table_loading=!1,e.tableData=t.data;for(var a=e.page_size,l=e.currentPage-1,i=t.data,n=l*a;n<(l+1)*a;n++){if(n==i.length)break;e.page_data.push(i[n])}e.total_size=t.data.length}}))},handleSizeChange:function(e){this.table_loading=!0,this.page_size=e,this.currentPage=1,this.page_data=[],this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.page_data=[],this.getData()}},mounted:function(){this.getData()}},r=s,d=(a("d4fd"),a("2877")),c=Object(d["a"])(r,l,i,!1,null,"3eaf3ea4",null);t["default"]=c.exports},d4fd:function(e,t,a){"use strict";var l=a("54d0"),i=a.n(l);i.a}}]);