(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-797a11f8"],{"070e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard-container"},[i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:24,lg:12}},[i("el-select",{model:{value:t.district_choose,callback:function(e){t.district_choose=e},expression:"district_choose"}},t._l(t.district_options,(function(t){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),i("div",{staticClass:"chart-wrapper"},[i("district",{staticStyle:{height:"35vh"},attrs:{chartData:t.DistrictInfo}})],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,lg:12}},[i("div",{staticClass:"chart-wrapper",staticStyle:{"margin-top":"60px"}},[i("districtdensity",{staticStyle:{height:"35vh"},attrs:{chartData:t.DistrictInfo}})],1)])],1),t._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{xs:24,sm:24,lg:12}},[i("el-select",{model:{value:t.choose_year,callback:function(e){t.choose_year=e},expression:"choose_year"}},t._l(t.year_option,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),t._v(" "),i("div",{staticClass:"chart-wrapper"},[i("timepopulation",{staticStyle:{height:"35vh"},attrs:{chartData:t.TimeInfo}})],1)],1),t._v(" "),i("el-col",{attrs:{xs:24,sm:24,lg:12}},[i("div",{staticClass:"chart-wrapper",staticStyle:{"margin-top":"60px"}},[i("timedensity",{staticStyle:{height:"35vh"},attrs:{chartData:t.TimeInfo}})],1)])],1)],1)},n=[],s=(i("55dd"),i("6400")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:{width:t.width,height:t.height}})},o=[],l=i("313e"),c=i.n(l),h=i("ed08"),u={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(h["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};i("56a5");var d={name:"GDP",mixins:[u],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({title:{text:t.district+"人口数量变化"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:[{type:"category",data:t.year,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"万人",axisLabel:{formatter:"{value}"}}],series:[{name:"人口数量",type:"line",data:t.population}]})}}},p=d,f=i("2877"),y=Object(f["a"])(p,r,o,!1,null,"c0cd4ca0",null),v=y.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:{width:t.width,height:t.height}})},g=[];i("56a5");var b={name:"GDP",mixins:[u],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({title:{text:t.district+"人口密度变化"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},xAxis:[{type:"category",data:t.year,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"人/平方公里",axisLabel:{formatter:"{value}"}}],series:[{name:"人口密度",type:"line",data:t.population_density}]})}}},_=b,x=Object(f["a"])(_,m,g,!1,null,"0e6c609a",null),D=x.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:{width:t.width,height:t.height}})},$=[];i("56a5");var I={name:"GDP",mixins:[u],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({title:{text:"各区人口数量对比"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",axisTick:{show:!1},data:t.district,axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value"}],series:[{name:"人口数量",type:"bar",data:t.population}]})}}},O=I,S=Object(f["a"])(O,w,$,!1,null,"063c6449",null),E=S.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.className,style:{width:t.width,height:t.height}})},R=[];i("56a5");var T={name:"GDP",mixins:[u],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=c.a.init(this.$el,"westeros"),this.setOptions(this.chartData)},setOptions:function(t){this.chart.setOption({title:{text:"各区人口密度对比"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",axisTick:{show:!1},data:t.district,axisLabel:{interval:0,rotate:"45"}}],yAxis:[{type:"value"}],series:[{name:"人口密度",type:"bar",data:t.population_density}]})}}},j=T,C=Object(f["a"])(j,z,R,!1,null,"091abe7e",null),k=C.exports,A={name:"index",components:{district:v,districtdensity:D,timepopulation:E,timedensity:k},data:function(){return{DistrictInfo:{district:"",year:[],population:[],population_density:[]},TimeInfo:{district:[],population:[],population_density:[]},year_option:[],choose_year:"2017",district_choose:"浦东新区",district_options:[{label:"黄浦区",value:"黄浦区"},{label:"普陀区",value:"普陀区"},{label:"静安区",value:"静安区"},{label:"长宁区",value:"长宁区"},{label:"徐汇区",value:"徐汇区"},{label:"虹口区",value:"虹口区"},{label:"杨浦区",value:"杨浦区"},{label:"宝山区",value:"宝山区"},{label:"嘉定区",value:"嘉定区"},{label:"闵行区",value:"闵行区"},{label:"浦东新区",value:"浦东新区"},{label:"金山区",value:"金山区"},{label:"松江区",value:"松江区"},{label:"青浦区",value:"青浦区"},{label:"崇明区",value:"崇明区"},{label:"奉贤区",value:"奉贤区"}]}},watch:{district_choose:function(t){this.getLineData()},choose_year:function(t){this.getBarData()}},methods:{isInArray:function(t,e){for(var i=0;i<t.length;i++)if(e===t[i])return!0;return!1},getLineData:function(){var t=this,e={};e["district"]=this.district_choose,0!=this.DistrictInfo.year.length&&(this.DistrictInfo.year=[]),0!=this.DistrictInfo.population.length&&(this.DistrictInfo.population=[]),0!=this.DistrictInfo.population_density.length&&(this.DistrictInfo.population_density=[]),Object(s["Jb"])(e).then((function(e){if(2e4===e.code){var i=e.data;i.sort((function(t,e){return parseInt(t.year)>parseInt(e.year)?1:-1}));for(var a=0;a<i.length;a++)t.DistrictInfo.year.push(i[a]["year"]),t.DistrictInfo.population.push(parseFloat(i[a]["population"]).toFixed(0)),t.DistrictInfo.population_density.push(parseFloat(i[a]["population_density"]).toFixed(2));t.DistrictInfo.district=t.district_choose}}))},getYearData:function(){var t=this;Object(s["bc"])().then((function(e){if(2e4===e.code)for(var i=e.data,a=0;a<i.length;a++)t.isInArray(t.year_option,i[a]["year"])||t.year_option.push(i[a]["year"])}))},getBarData:function(){var t=this,e={};e["year"]=this.choose_year,0!=this.TimeInfo.district.length&&(this.TimeInfo.district=[]),0!=this.TimeInfo.population.length&&(this.TimeInfo.population=[]),0!=this.TimeInfo.population_density.length&&(this.TimeInfo.population_density=[]),Object(s["Gb"])(e).then((function(e){if(2e4===e.code)for(var i=e.data,a=0;a<i.length;a++)t.TimeInfo.district.push(i[a]["district"]),t.TimeInfo.population.push(parseFloat(i[a]["population"]).toFixed(2)),t.TimeInfo.population_density.push(parseFloat(i[a]["population_density"]).toFixed(2))}))}},mounted:function(){this.getLineData(),this.getYearData(),this.getBarData()}},L=A,P=(i("92f3"),Object(f["a"])(L,a,n,!1,null,"72d068fc",null));e["default"]=P.exports},"2f21":function(t,e,i){"use strict";var a=i("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,i){"use strict";var a=i("5ca1"),n=i("d8e8"),s=i("4bf8"),r=i("79e5"),o=[].sort,l=[1,2,3];a(a.P+a.F*(r((function(){l.sort(void 0)}))||!r((function(){l.sort(null)}))||!i("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(s(this)):o.call(s(this),n(t))}})},"5f6e":function(t,e,i){},"92f3":function(t,e,i){"use strict";var a=i("5f6e"),n=i.n(a);n.a},ed08:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}));i("4917"),i("4f7f"),i("5df3"),i("1c4c"),i("28a5"),i("ac6a"),i("456d"),i("f576"),i("6b54"),i("3b2b"),i("a481");var a=i("7618");function n(t,e){if(0===arguments.length)return null;var i,n=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(a["a"])(t)?i=t:("string"===typeof t&&(t=/^[0-9]+$/.test(t)?parseInt(t):t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),i=new Date(t));var s={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()},r=n.replace(/{([ymdhisa])+}/g,(function(t,e){var i=s[e];return"a"===e?["日","一","二","三","四","五","六"][i]:i.toString().padStart(2,"0")}));return r}function s(t,e,i){var a,n,s,r,o,l=function l(){var c=+new Date-r;c<e&&c>0?a=setTimeout(l,e-c):(a=null,i||(o=t.apply(s,n),a||(s=n=null)))};return function(){for(var n=arguments.length,c=new Array(n),h=0;h<n;h++)c[h]=arguments[h];s=this,r=+new Date;var u=i&&!a;return a||(a=setTimeout(l,e)),u&&(o=t.apply(s,c),s=c=null),o}}}}]);