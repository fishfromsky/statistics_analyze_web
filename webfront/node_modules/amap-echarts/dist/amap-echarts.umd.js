!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("echarts/lib/echarts")):"function"==typeof define&&define.amd?define(["exports","echarts/lib/echarts"],e):e((t=t||self).AMapEcharts={},t.echarts)}(this,function(t,e){"use strict";function n(t,e){return t(e={exports:{}},e.exports),e.exports}e=e&&e.hasOwnProperty("default")?e.default:e;var r=n(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),i=(r.version,n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),o=n(function(t){var e=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),u=0,a=Math.random(),c=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++u+a).toString(36))},s=n(function(t){var e=o("wks"),n=i.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:c)("Symbol."+t))}).store=e}),f=function(t){return"object"==typeof t?null!==t:"function"==typeof t},l=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},p=function(t){try{return!!t()}catch(t){return!0}},h=!p(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),y=i.document,v=f(y)&&f(y.createElement),d=function(t){return v?y.createElement(t):{}},m=!h&&!p(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),g=Object.defineProperty,b={f:h?Object.defineProperty:function(t,e,n){if(l(t),e=function(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),l(n),m)try{return g(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},_=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=h?function(t,e,n){return b.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},O=s("unscopables"),S=Array.prototype;null==S[O]&&w(S,O,{});var k=function(t){S[O][t]=!0},j=function(t,e){return{value:e,done:!!t}},P={},M={}.toString,L=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return M.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},T=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},x=function(t){return L(T(t))},E={}.hasOwnProperty,C=function(t,e){return E.call(t,e)},A=o("native-function-to-string",Function.toString),F=n(function(t){var e=c("src"),n=(""+A).split("toString");r.inspectSource=function(t){return A.call(t)},(t.exports=function(t,r,o,u){var a="function"==typeof o;a&&(C(o,"name")||w(o,"name",r)),t[r]!==o&&(a&&(C(o,e)||w(o,e,t[r]?""+t[r]:n.join(String(r)))),t===i?t[r]=o:u?t[r]?t[r]=o:w(t,r,o):(delete t[r],w(t,r,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||A.call(this)})}),I=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},R=function(t,e,n){var o,u,a,c,s=t&R.F,f=t&R.G,l=t&R.S,p=t&R.P,h=t&R.B,y=f?i:l?i[e]||(i[e]={}):(i[e]||{}).prototype,v=f?r:r[e]||(r[e]={}),d=v.prototype||(v.prototype={});for(o in f&&(n=e),n)a=((u=!s&&y&&void 0!==y[o])?y:n)[o],c=h&&u?I(a,i):p&&"function"==typeof a?I(Function.call,a):a,y&&F(y,o,a,t&R.U),v[o]!=a&&w(v,o,c),p&&d[o]!=a&&(d[o]=a)};i.core=r,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var z,D=R,G=Math.ceil,N=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?N:G)(t)},B=Math.min,H=Math.max,W=Math.min,U=o("keys"),q=function(t){return U[t]||(U[t]=c(t))},Z=(z=!1,function(t,e,n){var r,i,o=x(t),u=(r=o.length)>0?B(V(r),9007199254740991):0,a=function(t,e){return(t=V(t))<0?H(t+e,0):W(t,e)}(n,u);if(z&&e!=e){for(;u>a;)if((i=o[a++])!=i)return!0}else for(;u>a;a++)if((z||a in o)&&o[a]===e)return z||a||0;return!z&&-1}),J=q("IE_PROTO"),K="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Q=Object.keys||function(t){return function(t,e){var n,r=x(t),i=0,o=[];for(n in r)n!=J&&C(r,n)&&o.push(n);for(;e.length>i;)C(r,n=e[i++])&&(~Z(o,n)||o.push(n));return o}(t,K)},X=h?Object.defineProperties:function(t,e){l(t);for(var n,r=Q(e),i=r.length,o=0;i>o;)b.f(t,n=r[o++],e[n]);return t},Y=i.document,$=Y&&Y.documentElement,tt=q("IE_PROTO"),et=function(){},nt=function(){var t,e=d("iframe"),n=K.length;for(e.style.display="none",$.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),nt=t.F;n--;)delete nt.prototype[K[n]];return nt()},rt=Object.create||function(t,e){var n;return null!==t?(et.prototype=l(t),n=new et,et.prototype=null,n[tt]=t):n=nt(),void 0===e?n:X(n,e)},it=b.f,ot=s("toStringTag"),ut=function(t,e,n){t&&!C(t=n?t:t.prototype,ot)&&it(t,ot,{configurable:!0,value:e})},at={};w(at,s("iterator"),function(){return this});var ct=function(t,e,n){t.prototype=rt(at,{next:_(1,n)}),ut(t,e+" Iterator")},st=q("IE_PROTO"),ft=Object.prototype,lt=Object.getPrototypeOf||function(t){return t=Object(T(t)),C(t,st)?t[st]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ft:null},pt=s("iterator"),ht=!([].keys&&"next"in[].keys()),yt=function(){return this},vt=function(t,e,n,r,i,o,u){ct(n,e,r);var a,c,s,f=function(t){if(!ht&&t in y)return y[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",p="values"==i,h=!1,y=t.prototype,v=y[pt]||y["@@iterator"]||i&&y[i],d=v||f(i),m=i?p?f("entries"):d:void 0,g="Array"==e&&y.entries||v;if(g&&(s=lt(g.call(new t)))!==Object.prototype&&s.next&&(ut(s,l,!0),"function"!=typeof s[pt]&&w(s,pt,yt)),p&&v&&"values"!==v.name&&(h=!0,d=function(){return v.call(this)}),(ht||h||!y[pt])&&w(y,pt,d),P[e]=d,P[l]=yt,i)if(a={values:p?d:f("values"),keys:o?d:f("keys"),entries:m},u)for(c in a)c in y||F(y,c,a[c]);else D(D.P+D.F*(ht||h),e,a);return a}(Array,"Array",function(t,e){this._t=x(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,j(1)):j(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");P.Arguments=P.Array,k("keys"),k("values"),k("entries");for(var dt=s("iterator"),mt=s("toStringTag"),gt=P.Array,bt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_t=Q(bt),wt=0;wt<_t.length;wt++){var Ot,St=_t[wt],kt=bt[St],jt=i[St],Pt=jt&&jt.prototype;if(Pt&&(Pt[dt]||w(Pt,dt,gt),Pt[mt]||w(Pt,mt,St),P[St]=gt,kt))for(Ot in vt)Pt[Ot]||F(Pt,Ot,vt[Ot],!0)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Lt=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),Tt=n(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),xt=(Tt.version,function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}),Et=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Ct=function(t){if(!Et(t))throw TypeError(t+" is not an object!");return t},At=function(t){try{return!!t()}catch(t){return!0}},Ft=!At(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),It=Lt.document,Rt=Et(It)&&Et(It.createElement),zt=!Ft&&!At(function(){return 7!=Object.defineProperty((t="div",Rt?It.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),Dt=Object.defineProperty,Gt={f:Ft?Object.defineProperty:function(t,e,n){if(Ct(t),e=function(t,e){if(!Et(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Et(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Et(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Et(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),Ct(n),zt)try{return Dt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},Nt=Ft?function(t,e,n){return Gt.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},Vt={}.hasOwnProperty,Bt=function(t,e){return Vt.call(t,e)},Ht=function(t,e,n){var r,i,o,u=t&Ht.F,a=t&Ht.G,c=t&Ht.S,s=t&Ht.P,f=t&Ht.B,l=t&Ht.W,p=a?Tt:Tt[e]||(Tt[e]={}),h=p.prototype,y=a?Lt:c?Lt[e]:(Lt[e]||{}).prototype;for(r in a&&(n=e),n)(i=!u&&y&&void 0!==y[r])&&Bt(p,r)||(o=i?y[r]:n[r],p[r]=a&&"function"!=typeof y[r]?n[r]:f&&i?xt(o,Lt):l&&y[r]==o?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):s&&"function"==typeof o?xt(Function.call,o):o,s&&((p.virtual||(p.virtual={}))[r]=o,t&Ht.R&&h&&!h[r]&&Nt(h,r,o)))};Ht.F=1,Ht.G=2,Ht.S=4,Ht.P=8,Ht.B=16,Ht.W=32,Ht.U=64,Ht.R=128;var Wt=Ht;Wt(Wt.S+Wt.F*!Ft,"Object",{defineProperty:Gt.f});var Ut=Tt.Object,qt=function(t,e,n){return Ut.defineProperty(t,e,n)};function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),qt(t,r.key,r)}}function Jt(t,e,n){return e&&Zt(t.prototype,e),n&&Zt(t,n),t}function Kt(t,e,n){return e in t?qt(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt=function(){function t(){Mt(this,t),Kt(this,"dom",null),Kt(this,"layer",null),Kt(this,"visible",!0)}return Jt(t,[{key:"resize",value:function(){var t=this.getMap().getSize(),e=t.getWidth(),n=t.getHeight();this.dom.style.width=e+"px",this.dom.style.height=n+"px"}},{key:"setRender",value:function(t){this.layer.render=t}},{key:"getMap",value:function(){return this.layer.getMap()}},{key:"getZIndex",value:function(){return this.layer.getzIndex()}},{key:"setZIndex",value:function(t){this.layer.setzIndex(t)}},{key:"setOpacity",value:function(t){this.layer.setOpacity(t)}},{key:"show",value:function(){this.visible||(this.visible=!0,this.layer.show())}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.layer.hide())}},{key:"getDom",value:function(){return this.dom}},{key:"dispose",value:function(){this.layer.hide(),this.dom=null,this.layer=null}}],[{key:"init",value:function(e){return new Promise(function(n,r){try{AMap.plugin("AMap.CustomLayer",function(){var r=new t,i=document.createElement("div");r.layer=new AMap.CustomLayer(i,{map:e,zIndex:120,alwaysRender:!1}),r.dom=i,r.resize(),n(r)})}catch(t){r(t)}})}}]),t}(),Xt=function(){function t(){Mt(this,t),Kt(this,"_amapContainer",null),Kt(this,"_echarts",null),Kt(this,"_cachedOptions",null)}return Jt(t,[{key:"_init",value:function(t,n,r){var i=t.getDom();return this._amapContainer=t,this._echarts=e.init(i,n,r),t.setRender(this._render.bind(this)),this._mixin()}},{key:"_mixin",value:function(){var t=this,e=/^_/,n=Object.getPrototypeOf(this),r=Object.create(this._echarts);return Object.getOwnPropertyNames(n).forEach(function(i){e.test(i)||(r[i]=n[i].bind(t))}),r}},{key:"_render",value:function(){this._echarts.setOption(this._cachedOptions)}},{key:"_clear",value:function(){this._amapContainer=null,this._echarts=null,this._cachedOptions=null}},{key:"getContainer",value:function(){return this._amapContainer}},{key:"resize",value:function(){this._amapContainer.resize(),this._echarts.resize()}},{key:"setOption",value:function(t){var e,n=this;t.getMap=function(){return n._amapContainer.getMap()},this._cachedOptions=t;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(e=this._echarts).setOption.apply(e,[t].concat(i))}},{key:"dispose",value:function(){this._echarts.dispose(),this._amapContainer.dispose(),this._clear()}}],[{key:"init",value:function(e,n,r){return Qt.init(e).then(function(e){return(new t)._init(e,n,r)})}}]),t}(),Yt=function(){function t(e){Mt(this,t),Kt(this,"map",null),Kt(this,"model",null),Kt(this,"axisPointerEnabled",!1),Kt(this,"dimensions",t.dimensions),this.map=e}return Jt(t,null,[{key:"getDimensionsInfo",value:function(){return t.dimensions}},{key:"create",value:function(e){var n=e.getOption();if(n.getMap){var r=new t(n.getMap());e.eachSeries(function(t){"amap"===t.get("coordinateSystem")&&(t.coordinateSystem=r)})}}}]),Jt(t,[{key:"dataToPoint",value:function(t){var e=this.map.lngLatToContainer(t);return[e.x,e.y]}},{key:"pointToData",value:function(t){var e=this.map.containerToLngLat({x:t[0],y:t[1]});return[e.lng,e.lat]}}]),t}();Kt(Yt,"dimensions",["lng","lat"]),e.registerCoordinateSystem("amap",Yt),t.default=Xt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=amap-echarts.umd.js.map
