{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\economy\\District\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\economy\\District\\index.vue","mtime":1609073358401},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/projectsAll/statistics_analyze_web_2/webfront/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nvar _model = require(\"@/api/model\");\n\nvar _gdp = _interopRequireDefault(require(\"./components/gdp\"));\n\nvar _gdp_first_industry = _interopRequireDefault(require(\"./components/gdp_first_industry\"));\n\nvar _gdp_second_industry = _interopRequireDefault(require(\"./components/gdp_second_industry\"));\n\nvar _gdp_third_industry = _interopRequireDefault(require(\"./components/gdp_third_industry\"));\n\nvar _piedata = _interopRequireDefault(require(\"./components/piedata\"));\n\nvar _bardata = _interopRequireDefault(require(\"./components/bardata\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"index\",\n  components: {\n    gdp: _gdp.default,\n    gdpfirstindustry: _gdp_first_industry.default,\n    gdpsecondindustry: _gdp_second_industry.default,\n    gdpthirdindustry: _gdp_third_industry.default,\n    piedata: _piedata.default,\n    bardata: _bardata.default\n  },\n  data: function data() {\n    return {\n      total_year: [],\n      choose_year_one: \"2017\",\n      district_choose_two: \"浦东新区\",\n      choose_year_two: \"2017\",\n      district_choose: \"浦东新区\",\n      district_options: [{\n        label: \"黄浦区\",\n        value: \"黄浦区\"\n      }, {\n        label: \"普陀区\",\n        value: \"普陀区\"\n      }, {\n        label: \"静安区\",\n        value: \"静安区\"\n      }, {\n        label: \"长宁区\",\n        value: \"长宁区\"\n      }, {\n        label: \"徐汇区\",\n        value: \"徐汇区\"\n      }, {\n        label: \"虹口区\",\n        value: \"虹口区\"\n      }, {\n        label: \"杨浦区\",\n        value: \"杨浦区\"\n      }, {\n        label: \"宝山区\",\n        value: \"宝山区\"\n      }, {\n        label: \"嘉定区\",\n        value: \"嘉定区\"\n      }, {\n        label: \"闵行区\",\n        value: \"闵行区\"\n      }, {\n        label: \"浦东新区\",\n        value: \"浦东新区\"\n      }, {\n        label: \"金山区\",\n        value: \"金山区\"\n      }, {\n        label: \"松江区\",\n        value: \"松江区\"\n      }, {\n        label: \"青浦区\",\n        value: \"青浦区\"\n      }, {\n        label: \"崇明区\",\n        value: \"崇明区\"\n      }, {\n        label: \"奉贤区\",\n        value: \"奉贤区\"\n      }],\n      BasicInfo: {\n        GDPData: {\n          year: [],\n          gdp: [],\n          district: \"\"\n        },\n        GDP_First_Industry: {\n          year: [],\n          gdp: [],\n          district: \"\"\n        },\n        GDP_Second_Industry: {\n          year: [],\n          gdp: [],\n          district: \"\"\n        },\n        GDP_Third_Industry: {\n          year: [],\n          gdp: [],\n          district: \"\"\n        }\n      },\n      PieInfo: {\n        data: [],\n        district: \"\",\n        year: \"\"\n      },\n      BarInfo: {\n        district: [],\n        gdp: [],\n        gdp_first_industry: [],\n        gdp_second_industry: [],\n        gdp_third_industry: []\n      }\n    };\n  },\n  watch: {\n    district_choose: function district_choose(val) {\n      this.getGDPData(val);\n    },\n    district_choose_two: function district_choose_two(val) {\n      this.getPieData();\n    },\n    choose_year_two: function choose_year_two(val) {\n      this.getPieData();\n    },\n    choose_year_one: function choose_year_one(val) {\n      this.getBarData();\n    }\n  },\n  methods: {\n    isInArray: function isInArray(arr, value) {\n      for (var i = 0; i < arr.length; i++) {\n        if (value === arr[i]) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    getGDPData: function getGDPData(place) {\n      var that = this;\n      this.total_year = [];\n\n      if (this.BasicInfo.GDPData.year.length != 0) {\n        this.BasicInfo.GDPData.year = [];\n      }\n\n      if (this.BasicInfo.GDPData.gdp.length != 0) {\n        this.BasicInfo.GDPData.gdp = [];\n      }\n\n      if (this.BasicInfo.GDP_First_Industry.year.length != 0) {\n        this.BasicInfo.GDP_First_Industry.year = [];\n      }\n\n      if (this.BasicInfo.GDP_First_Industry.gdp.length != 0) {\n        this.BasicInfo.GDP_First_Industry.gdp = [];\n      }\n\n      if (this.BasicInfo.GDP_Second_Industry.year.length != 0) {\n        this.BasicInfo.GDP_Second_Industry.year = [];\n      }\n\n      if (this.BasicInfo.GDP_Second_Industry.gdp.length != 0) {\n        this.BasicInfo.GDP_Second_Industry.gdp = [];\n      }\n\n      if (this.BasicInfo.GDP_Third_Industry.year.length != 0) {\n        this.BasicInfo.GDP_Third_Industry.year = [];\n      }\n\n      if (this.BasicInfo.GDP_Third_Industry.gdp.length != 0) {\n        this.BasicInfo.GDP_Third_Industry.gdp = [];\n      }\n\n      var data = {};\n      data[\"district\"] = place;\n      (0, _model.filtereconomydistrict)(data).then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n          result.sort(function (a, b) {\n            return parseInt(a.year) > parseInt(b.year) ? 1 : -1;\n          });\n\n          for (var i = 0; i < result.length; i++) {\n            if (!that.isInArray(that.total_year, result[i][\"year\"])) {\n              that.total_year.push(result[i][\"year\"]);\n            }\n\n            that.BasicInfo.GDPData.year.push(parseFloat(result[i][\"year\"]));\n            that.BasicInfo.GDPData.gdp.push(parseFloat(result[i][\"gdp\"]));\n            that.BasicInfo.GDPData.district = that.district_choose;\n            that.BasicInfo.GDP_First_Industry.year.push(parseFloat(result[i][\"year\"]));\n            that.BasicInfo.GDP_First_Industry.gdp.push(parseFloat(result[i][\"gdp_first_industry\"]));\n            that.BasicInfo.GDP_First_Industry.district = that.district_choose;\n            that.BasicInfo.GDP_Second_Industry.year.push(parseFloat(result[i][\"year\"]));\n            that.BasicInfo.GDP_Second_Industry.gdp.push(parseFloat(result[i][\"gdp_second_industry\"]));\n            that.BasicInfo.GDP_Second_Industry.district = that.district_choose;\n            that.BasicInfo.GDP_Third_Industry.year.push(parseFloat(result[i][\"year\"]));\n            that.BasicInfo.GDP_Third_Industry.gdp.push(parseFloat(result[i][\"gdp_third_industry\"]));\n            that.BasicInfo.GDP_Third_Industry.district = that.district_choose;\n          }\n        }\n      });\n    },\n    getPieData: function getPieData() {\n      var that = this;\n      var year = this.choose_year_two;\n      var district = this.district_choose_two;\n      var data = {};\n\n      if (this.PieInfo.data.length != 0) {\n        this.PieInfo.data = [];\n      }\n\n      data[\"district\"] = district;\n      data[\"year\"] = year;\n      (0, _model.filterpieeconomydistrict)(data).then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data[0];\n          that.PieInfo.data.push({\n            value: parseFloat(result[\"gdp_first_industry\"]),\n            name: \"第一产业\"\n          });\n          that.PieInfo.data.push({\n            value: parseFloat(result[\"gdp_second_industry\"]),\n            name: \"第二产业\"\n          });\n          that.PieInfo.data.push({\n            value: parseFloat(result[\"gdp_third_industry\"]),\n            name: \"第三产业\"\n          });\n          that.PieInfo.district = result[\"district\"];\n          that.PieInfo.year = result[\"year\"];\n        }\n      });\n    },\n    getData: function getData() {\n      var that = this;\n      (0, _model.geteconomydistrict)().then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n\n          for (var i = 0; i < result.length; i++) {\n            if (!that.isInArray(that.total_year, result[i][\"year\"])) {\n              that.total_year.push(result[i][\"year\"]);\n            }\n          }\n        }\n      });\n    },\n    getBarData: function getBarData() {\n      var that = this;\n\n      if (this.BarInfo.district.length != 0) {\n        this.BarInfo.district = [];\n      }\n\n      if (this.BarInfo.gdp.length != 0) {\n        this.BarInfo.gdp = [];\n      }\n\n      if (this.BarInfo.gdp_first_industry.length != 0) {\n        this.BarInfo.gdp_first_industry = [];\n      }\n\n      if (this.BarInfo.gdp_second_industry.length != 0) {\n        this.BarInfo.gdp_second_industry = [];\n      }\n\n      if (this.BarInfo.gdp_third_industry.length != 0) {\n        this.BarInfo.gdp_third_industry = [];\n      }\n\n      var data = {};\n      data[\"year\"] = this.choose_year_one;\n      (0, _model.filterbareconomydistrict)(data).then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n\n          for (var i = 0; i < result.length; i++) {\n            that.BarInfo.district.push(result[i][\"district\"]);\n            that.BarInfo.gdp.push(parseFloat(result[i][\"gdp\"]));\n            that.BarInfo.gdp_first_industry.push(parseFloat(result[i][\"gdp_first_industry\"]));\n            that.BarInfo.gdp_second_industry.push(parseFloat(result[i][\"gdp_second_industry\"]));\n            that.BarInfo.gdp_third_industry.push(parseFloat(result[i][\"gdp_third_industry\"]));\n          }\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getGDPData(this.district_choose);\n    this.getPieData();\n    this.getData();\n    this.getBarData();\n  }\n};\nexports.default = _default;",null]}