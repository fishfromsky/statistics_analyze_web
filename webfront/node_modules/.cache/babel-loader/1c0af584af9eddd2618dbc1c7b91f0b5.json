{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\repository\\kmeans\\manage\\components\\p_median.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\repository\\kmeans\\manage\\components\\p_median.vue","mtime":1609073358479},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nvar _model = require(\"@/api/model\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  data: function data() {\n    return {\n      table_loading: true,\n      tablekey: 0,\n      tableData: [],\n      page_data: [],\n      formData: [],\n      total_size: 0,\n      currentPage: 1,\n      page_size: 10,\n      amend_dialog: false,\n      get_dialog: false,\n      add_dialog: false,\n      LocationImage: false,\n      form: {},\n      add_form: {\n        project_id: '',\n        name: ''\n      },\n      get_form: {\n        project_id: '',\n        plot_num: ''\n      },\n      url: '',\n      image_loading: false,\n      choose_dialog: false,\n      chooseIndex: null,\n      choose_data: ['MSW', 'POP', 'PUP', 'HOU', 'APH', 'GEN', 'AGE1', 'AGE2', 'AGE3', 'INC', 'EXP', 'BUD', 'GDP', 'GDP1', 'GDP2', 'GDP3', 'pGDP', 'EDU'],\n      choose_list: []\n    };\n  },\n  methods: {\n    Refresh: function Refresh() {\n      this.table_loading = true;\n      this.page_data = [];\n      this.tableData = [];\n      this.getData();\n    },\n    Select_Index: function Select_Index(arr_main, arr_child) {\n      var index = [];\n      var flag = true;\n\n      for (var i = 0; i < arr_main.length; i++) {\n        flag = true;\n\n        for (var j = 0; j < arr_child.length; j++) {\n          if (arr_main[i] === arr_child[j]) {\n            flag = false;\n            break;\n          }\n        }\n\n        if (flag) {\n          index.push(i);\n        }\n      }\n\n      return index;\n    },\n    ChooseConfirm: function ChooseConfirm() {\n      var _this = this;\n\n      if (this.choose_list.length != 2) {\n        this.$message.error('只能选择两个维度');\n      } else {\n        this.choose_dialog = false;\n        var val = this.chooseIndex;\n        var that = this;\n        var data = {};\n        var index_list = [];\n        data['project_id'] = this.page_data[val].project_id;\n        index_list = this.Select_Index(this.choose_data, this.choose_list);\n        data['index_list'] = index_list.toString();\n        (0, _model.startkmeans)(data).then(function (res) {\n          if (res.code === 20000) {\n            _this.$message({\n              type: 'success',\n              message: '运行成功'\n            });\n\n            that.table_loading = true;\n            that.page_data = [];\n            that.tableData = [];\n            that.getData();\n          }\n        });\n      }\n    },\n    Experiment: function Experiment(val) {\n      this.chooseIndex = val;\n      this.choose_dialog = true;\n    },\n    timeStamptoTime: function timeStamptoTime(time) {\n      var date = new Date(time);\n      var Y = date.getFullYear() + '-';\n      var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\n      var D = date.getDate() + ' ';\n      var h = date.getHours() + ':';\n      var m = date.getMinutes() + ':';\n      var s = date.getSeconds();\n      return Y + M + D + h + m + s;\n    },\n    getData: function getData() {\n      var that = this;\n      (0, _model.getkmeansrpoject)().then(function (res) {\n        if (res.code === 20000) {\n          that.table_loading = false;\n          that.tableData = res.data;\n\n          for (var i = 0; i < res.data.length; i++) {\n            var time = res.data[i].add_time;\n            time = new Date(time.replace(/-/g, '/')).getTime() + 3600 * 1000 * 8;\n            res.data[i].add_time = that.timeStamptoTime(time);\n          }\n\n          var size = that.page_size;\n          var index = that.currentPage - 1;\n\n          for (var _i = index * size; _i < (index + 1) * size; _i++) {\n            if (_i == res.data.length) {\n              break;\n            }\n\n            that.page_data.push(res.data[_i]);\n          }\n\n          that.total_size = res.data.length;\n        }\n      });\n    },\n    AmendData: function AmendData(index) {\n      this.form = this.page_data[index];\n      this.amend_dialog = true;\n    },\n    AmendDataConfirm: function AmendDataConfirm() {\n      var _this2 = this;\n\n      var data = this.form;\n      var that = this;\n      (0, _model.amendkmeansproject)(data).then(function (res) {\n        if (res.code === 20000) {\n          _this2.$message({\n            type: 'success',\n            message: '修改成功'\n          });\n\n          that.page_data = [];\n          that.getData();\n        }\n      });\n      this.amend_dialog = false;\n    },\n    Project_start: function Project_start(index) {\n      var _this3 = this;\n\n      if (this.page_data[index].lstm_project_table_size === 0) {\n        this.$message.error('请先导入实验参数表');\n      } else {\n        var that = this;\n        LstmProjectStart(this.page_data[index].project_id).then(function (res) {\n          if (res.code === 20000) {\n            _this3.$message({\n              type: 'success',\n              message: '模型开始运行'\n            });\n          } else if (res.code === 50000) {\n            _this3.$message({\n              type: 'error',\n              message: '模型已在运行中！'\n            });\n          }\n        });\n      }\n    },\n    addPrograme: function addPrograme() {\n      this.add_dialog = true;\n    },\n    addDataConfirm: function addDataConfirm() {\n      var _this4 = this;\n\n      var data = this.add_form;\n\n      if (this.add_form.project_id === '') {\n        this.$message.error('请输入项目ID');\n      } else if (this.add_form.name === '') {\n        this.$message.error('请输入项目名称');\n      } else {\n        var that = this;\n        (0, _model.addkmeansproject)(data).then(function (res) {\n          if (res.code === 20000) {\n            _this4.$message({\n              type: 'success',\n              message: '添加成功'\n            });\n\n            that.page_data = [];\n            that.getData();\n          }\n        });\n        this.add_dialog = false;\n      }\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.table_loading = true;\n      this.page_size = val;\n      this.currentPage = 1;\n      this.page_data = [];\n      this.getData();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.page_data = [];\n      this.getData();\n    }\n  },\n  mounted: function mounted() {\n    this.getData();\n  }\n};\nexports.default = _default;",null]}