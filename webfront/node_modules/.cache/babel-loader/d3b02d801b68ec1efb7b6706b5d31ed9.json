{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\population\\District\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\population\\District\\index.vue","mtime":1609073358435},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nvar _model = require(\"@/api/model\");\n\nvar _disitrict = _interopRequireDefault(require(\"./components/disitrict\"));\n\nvar _districtdensity = _interopRequireDefault(require(\"./components/districtdensity\"));\n\nvar _timepopulation = _interopRequireDefault(require(\"./components/timepopulation\"));\n\nvar _timedensity = _interopRequireDefault(require(\"./components/timedensity\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"index\",\n  components: {\n    district: _disitrict.default,\n    districtdensity: _districtdensity.default,\n    timepopulation: _timepopulation.default,\n    timedensity: _timedensity.default\n  },\n  data: function data() {\n    return {\n      DistrictInfo: {\n        district: '',\n        year: [],\n        population: [],\n        population_density: []\n      },\n      TimeInfo: {\n        district: [],\n        population: [],\n        population_density: []\n      },\n      year_option: [],\n      choose_year: '2017',\n      district_choose: '浦东新区',\n      district_options: [{\n        label: \"黄浦区\",\n        value: \"黄浦区\"\n      }, {\n        label: \"普陀区\",\n        value: \"普陀区\"\n      }, {\n        label: \"静安区\",\n        value: \"静安区\"\n      }, {\n        label: \"长宁区\",\n        value: \"长宁区\"\n      }, {\n        label: \"徐汇区\",\n        value: \"徐汇区\"\n      }, {\n        label: \"虹口区\",\n        value: \"虹口区\"\n      }, {\n        label: \"杨浦区\",\n        value: \"杨浦区\"\n      }, {\n        label: \"宝山区\",\n        value: \"宝山区\"\n      }, {\n        label: \"嘉定区\",\n        value: \"嘉定区\"\n      }, {\n        label: \"闵行区\",\n        value: \"闵行区\"\n      }, {\n        label: \"浦东新区\",\n        value: \"浦东新区\"\n      }, {\n        label: \"金山区\",\n        value: \"金山区\"\n      }, {\n        label: \"松江区\",\n        value: \"松江区\"\n      }, {\n        label: \"青浦区\",\n        value: \"青浦区\"\n      }, {\n        label: \"崇明区\",\n        value: \"崇明区\"\n      }, {\n        label: \"奉贤区\",\n        value: \"奉贤区\"\n      }]\n    };\n  },\n  watch: {\n    district_choose: function district_choose(val) {\n      this.getLineData();\n    },\n    choose_year: function choose_year(val) {\n      this.getBarData();\n    }\n  },\n  methods: {\n    isInArray: function isInArray(arr, value) {\n      for (var i = 0; i < arr.length; i++) {\n        if (value === arr[i]) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    getLineData: function getLineData() {\n      var that = this;\n      var data = {};\n      data['district'] = this.district_choose;\n\n      if (this.DistrictInfo.year.length != 0) {\n        this.DistrictInfo.year = [];\n      }\n\n      if (this.DistrictInfo.population.length != 0) {\n        this.DistrictInfo.population = [];\n      }\n\n      if (this.DistrictInfo.population_density.length != 0) {\n        this.DistrictInfo.population_density = [];\n      }\n\n      (0, _model.filterlinepopulationdistrict)(data).then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n          result.sort(function (a, b) {\n            return parseInt(a.year) > parseInt(b.year) ? 1 : -1;\n          });\n\n          for (var i = 0; i < result.length; i++) {\n            that.DistrictInfo.year.push(result[i]['year']);\n            that.DistrictInfo.population.push(parseFloat(result[i]['population']).toFixed(0));\n            that.DistrictInfo.population_density.push(parseFloat(result[i]['population_density']).toFixed(2));\n          }\n\n          that.DistrictInfo.district = that.district_choose;\n        }\n      });\n    },\n    getYearData: function getYearData() {\n      var that = this;\n      (0, _model.getdistrictpopulation)().then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n\n          for (var i = 0; i < result.length; i++) {\n            if (!that.isInArray(that.year_option, result[i]['year'])) {\n              that.year_option.push(result[i]['year']);\n            }\n          }\n        }\n      });\n    },\n    getBarData: function getBarData() {\n      var that = this;\n      var data = {};\n      data['year'] = this.choose_year;\n\n      if (this.TimeInfo.district.length != 0) {\n        this.TimeInfo.district = [];\n      }\n\n      if (this.TimeInfo.population.length != 0) {\n        this.TimeInfo.population = [];\n      }\n\n      if (this.TimeInfo.population_density.length != 0) {\n        this.TimeInfo.population_density = [];\n      }\n\n      (0, _model.filterbarpopulationdistrict)(data).then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n\n          for (var i = 0; i < result.length; i++) {\n            that.TimeInfo.district.push(result[i]['district']);\n            that.TimeInfo.population.push(parseFloat(result[i]['population']).toFixed(2));\n            that.TimeInfo.population_density.push(parseFloat(result[i]['population_density']).toFixed(2));\n          }\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.getLineData();\n    this.getYearData();\n    this.getBarData();\n  }\n};\nexports.default = _default;",null]}