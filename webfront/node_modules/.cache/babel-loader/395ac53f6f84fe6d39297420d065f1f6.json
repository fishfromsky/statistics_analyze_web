{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\production\\Country\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\production\\Country\\index.vue","mtime":1609073358467},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _model = require(\"@/api/model\");\n\nvar _echarts = _interopRequireDefault(require(\"echarts\"));\n\nvar _jquery = _interopRequireDefault(require(\"jquery\"));\n\nrequire(\"../../../../node_modules/echarts-gl/dist/echarts-gl.js\");\n\nrequire(\"../../../../node_modules/echarts/map/js/province/shanghai.js\");\n\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"echarts\",\n  props: [\"userJson\"],\n  data: function data() {\n    return {\n      chart: null,\n      datax: [],\n      min: null,\n      max: null\n    };\n  },\n  mounted: function mounted() {\n    this.getData();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (!this.chart) {\n      return;\n    }\n\n    this.chart.dispose();\n    this.chart = null;\n  },\n  methods: {\n    getData: function getData() {\n      var that = this;\n      this.datax = [];\n      this.min = null;\n      this.max = null;\n      (0, _model.getgarbagecountry)().then(function (res) {\n        if (res.code === 20000) {\n          var result = res.data;\n          var min_val = parseFloat(result[0].production);\n          var max_val = parseFloat(result[0].production);\n\n          for (var i = 0; i < result.length; i++) {\n            if (parseFloat(result[i].production) > max_val) {\n              max_val = result[i].production;\n            }\n\n            if (parseFloat(result[i].production) < min_val) {\n              min_val = result[i].production;\n            }\n\n            that.datax.push([result[i].longitude, result[i].latitude, parseFloat(result[i].production)]);\n          }\n\n          that.min = min_val;\n          that.max = max_val;\n          that.chinaConfigure();\n        }\n      });\n    },\n    tipFormatter: function tipFormatter(params) {\n      var name = params.data[3];\n      var value = params.data[4];\n      var res = \"<div class='div-tip'><span style='color:#fff;'>\" + name + \"</span><br/>数据：\" + value + \"</div>\";\n      return res;\n    },\n    chinaConfigure: function chinaConfigure() {\n      var that = this;\n\n      var myChart = _echarts.default.init(this.$refs.myEchart); //这里是为了获得容器所在位置\n\n\n      window.onresize = myChart.resize;\n      myChart.setOption({\n        title: {\n          text: '上海市2020年城镇固废产量',\n          textStyle: {\n            color: '#fff'\n          },\n          left: \"20\",\n          top: \"20\"\n        },\n        visualMap: {\n          type: 'continuous',\n          min: parseInt(that.min),\n          max: parseInt(that.max),\n          bottom: 10,\n          left: 10,\n          range: [parseInt(that.min), parseInt(that.max)],\n          inRange: {\n            color: ['#AFEEEE', '#FAE900', '#F6AE00', '#C41A1A'],\n            colorAlpha: [0.8, 0.9]\n          },\n          outOfRange: {\n            color: ['rgba(0,0,0,0)'],\n            opacity: 0\n          }\n        },\n        // 进行相关配置\n        backgroundColor: \"rgba(0, 0, 0, 0)\",\n        tooltip: {\n          trigger: \"item\",\n          backgroundColor: \"rgba(0, 161, 255, 0.5)\",\n          borderColor: \"#00faff\",\n          showDelay: 0,\n          hideDelay: 0,\n          enterable: true,\n          transitionDuration: 0,\n          extraCssText: \"z-index:100\",\n          formatter: function formatter(params, ticket, callback) {\n            //根据业务自己拓展要显示的内容\n            return that.tipFormatter(params);\n          }\n        },\n        geo3D: {\n          map: \"上海\",\n          shading: \"lambert\",\n          regions: [{\n            name: \"黄浦区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"徐汇区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"长宁区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"静安区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"普陀区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"虹口区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"杨浦区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"闵行区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"宝山区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"嘉定区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"浦东新区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"金山区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"松江区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"青浦区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"奉贤区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }, {\n            name: \"崇明区\",\n            itemStyle: {\n              color: \"#062031\"\n            }\n          }],\n          light: {\n            main: {\n              intensity: 4,\n              shadow: true,\n              shadowQuality: \"low\",\n              alpha: 150,\n              beta: 100\n            },\n            ambient: {\n              intensity: 0\n            }\n          },\n          viewControl: {\n            distance: 130,\n            panMouseButton: \"left\",\n            rotateMouseButton: \"right\",\n            alpha: 40,\n            center: [0, -30, 0] // 视角中心点，旋转也会围绕这个中心点旋转，默认为[0,0,0]\n\n          },\n          groundPlane: {\n            show: false,\n            color: \"#999\"\n          },\n          postEffect: {\n            enable: true,\n            bloom: {\n              enable: false\n            },\n            SSAO: {\n              radius: 1,\n              intensity: 1,\n              enable: true\n            },\n            depthOfField: {\n              enable: false,\n              focalRange: 10,\n              blurRadius: 10,\n              fstop: 1\n            }\n          },\n          temporalSuperSampling: {\n            enable: true\n          },\n          itemStyle: {\n            borderWidth: 1.5,\n            borderColor: \"#43D0D6\"\n          },\n          regionHeight: 2\n        },\n        series: [{\n          type: \"bar3D\",\n          coordinateSystem: \"geo3D\",\n          shading: \"lambert\",\n          data: that.datax,\n          barSize: 0.8,\n          minHeight: 0.2,\n          // silent: true,\n          itemStyle: {\n            color: \"#33ffff\",\n            opacity: 0.7\n          }\n        }]\n      });\n    }\n  }\n};\nexports.default = _default;",null]}