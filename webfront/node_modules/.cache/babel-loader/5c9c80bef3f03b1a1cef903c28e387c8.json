{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\table\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\table\\index.vue","mtime":1609073358502},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _UploadFile = _interopRequireDefault(require(\"./components/UploadFile\"));\n\nvar _auth = require(\"@/utils/auth\");\n\nvar _model = require(\"@/api/model\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'UploadExcel',\n  components: {\n    UploadExcelComponent: _UploadFile.default\n  },\n  data: function data() {\n    return {\n      tableData: [],\n      tableHeader: [],\n      hasData: false,\n      area: '',\n      kind: '',\n      level_list: [{\n        value: '1',\n        label: '市级'\n      }, {\n        value: '2',\n        label: '区级'\n      }, {\n        value: '3',\n        label: '乡级'\n      }],\n      kind_list: [{\n        value: '1',\n        label: '经济数据'\n      }, {\n        value: '2',\n        label: '人口数据'\n      }, {\n        value: '3',\n        label: '固废产量信息'\n      }, {\n        value: '4',\n        label: '无害化处理厂数量'\n      }, {\n        value: '5',\n        label: '无害化处理能力'\n      }, {\n        value: '6',\n        label: '无害化处理量'\n      }, {\n        value: '7',\n        label: '无害化处理厂信息'\n      }, {\n        value: '8',\n        label: '垃圾中转站信息'\n      }, {\n        value: '9',\n        label: '垃圾收集点信息'\n      }, {\n        value: '10',\n        label: '固废成分信息'\n      }, {\n        value: '11',\n        label: '危险废弃物数据'\n      }, {\n        value: '12',\n        label: '日均清运量'\n      }, {\n        value: '13',\n        label: '乡镇垃圾产量表'\n      }],\n      star: null,\n      table_loading: false\n    };\n  },\n  methods: {\n    beforeUpload: function beforeUpload(file) {\n      var isLt1M = file.size / 1024 / 1024 < 1;\n\n      if (isLt1M) {\n        return true;\n      }\n\n      this.$message({\n        message: 'Please do not upload files larger than 1m in size.',\n        type: 'warning'\n      });\n      return false;\n    },\n    handleSuccess: function handleSuccess(_ref) {\n      var results = _ref.results,\n          header = _ref.header;\n      this.tableData = results;\n      this.tableHeader = header;\n      this.hasData = true;\n    },\n    DataInput: function DataInput(func) {\n      var _this = this;\n\n      var that = this;\n      this.table_loading = true;\n      var table = [];\n\n      for (var i = 0; i < this.tableData.length; i++) {\n        table.push(this.tableData[i]);\n      }\n\n      var data = {};\n      data['data'] = table;\n      func(data).then(function (res) {\n        that.table_loading = false;\n\n        if (res.code === 20000) {\n          _this.$message({\n            type: 'success',\n            message: '导入数据成功'\n          });\n        } else {\n          _this.$message.error(res.message);\n\n          that.table_loading = false;\n        }\n      }).catch(function (res) {\n        console.log(res);\n        that.table_loading = false;\n      });\n    },\n    AddModel: function AddModel() {\n      var that = this;\n\n      if (that.area === '') {\n        that.$message.error('数据级别不能为空');\n      } else if (that.kind === '') {\n        that.$message.error('数据表类型不能为空');\n      } else {\n        if (that.area === '1' && that.kind === '1') {\n          this.DataInput(_model.addcityeconomydata);\n        } else if (that.area === '1' && that.kind === '2') {\n          this.DataInput(_model.addcitypopulationdata);\n        } else if (that.area === '1' && that.kind === '3') {\n          this.DataInput(_model.addgarbagecity);\n        } else if (that.area === '1' && that.kind === '4') {\n          this.DataInput(_model.addcitygarbagedeal);\n        } else if (that.area === '1' && that.kind === '5') {\n          this.DataInput(_model.addcitygarbagecapacity);\n        } else if (that.area === '1' && that.kind === '6') {\n          this.DataInput(_model.addcitygarbagevolume);\n        } else if (that.area === '1' && that.kind === '7') {\n          this.DataInput(_model.addfacorylist);\n        } else if (that.area === '1' && that.kind === '8') {\n          this.DataInput(_model.addtransferfactory);\n        } else if (that.area === '1' && that.kind === '9') {\n          this.DataInput(_model.addcollectfactory);\n        } else if (that.area === '1' && that.kind === '10') {\n          this.DataInput(_model.addelementgarbage);\n        } else if (that.area === '1' && that.kind === '11') {\n          this.DataInput(_model.adddangerousgarbage);\n        } else if (that.area === '1' && that.kind === '12') {\n          this.DataInput(_model.addgarbageclearperday);\n        } else if (that.area === '3' && that.kind === '13') {\n          this.DataInput(_model.inputgarbagecountry);\n        } else if (that.area === '2' && that.kind === '1') {\n          this.DataInput(_model.inputeconomydistrict);\n        } else if (that.area === '2' && that.kind === '2') {\n          this.DataInput(_model.inputdistrictpopulation);\n        } else if (that.area === '2' && that.kind === '3') {\n          this.DataInput(_model.inputgarbagedistrict);\n        }\n      }\n    }\n  }\n};\nexports.default = _default;",null]}