{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\repository\\greenHouse\\Show\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\repository\\greenHouse\\Show\\index.vue","mtime":1641987878508},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/objectSpread2\"));\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"D:/projectsAll/statistics_analyze_web/webfront/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\"));\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _xlsx = _interopRequireDefault(require(\"xlsx\"));\n\nvar _vuex = require(\"vuex\");\n\nvar _model = require(\"@/api/model\");\n\nvar _emission = _interopRequireDefault(require(\"./components/emission\"));\n\nvar _emissionOut = _interopRequireDefault(require(\"./components/emissionOut\"));\n\nvar _pathToRegexp = require(\"path-to-regexp\");\n\nvar _SHEmiD = _interopRequireDefault(require(\"./components/SHEmiD.vue\"));\n\nvar _SHEmiO = _interopRequireDefault(require(\"./components/SHEmiO.vue\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: \"index\",\n  components: {\n    emission: _emission.default,\n    emissionOut: _emissionOut.default,\n    shemid: _SHEmiD.default,\n    shemio: _SHEmiO.default\n  },\n  data: function data() {\n    return {\n      BasicInfo: {\n        emission: {\n          burndata: {},\n          biosdata: {},\n          burydata: {},\n          totaldata: {}\n        }\n      }\n    };\n  },\n  methods: {\n    getUploadFile: function getUploadFile(e) {\n      var _this = this;\n\n      console.log('数据改变', e);\n      var fileName = e.target.files[0];\n      var reader = new FileReader();\n      reader.readAsBinaryString(fileName); //onload在文件被读取时自动触发\n\n      reader.onload = function (e) {\n        var workbook = _xlsx.default.read(e.target.result, {\n          type: 'binary'\n        });\n\n        console.log(workbook);\n        var startData = workbook.Sheets;\n        var sheetList = workbook.SheetNames; //存放json数组格式的表格数据\n\n        sheetList.forEach(function (item) {\n          var worksheet = workbook.Sheets[item];\n\n          var json = _xlsx.default.utils.sheet_to_json(workbook.Sheets[item]);\n\n          _this.resultJson = json;\n        });\n        console.log(\"resultJson\", _this.resultJson);\n        var b = {};\n        var bur = {};\n        var bio = {};\n        var total = {};\n        var offsetCO2 = {};\n\n        var _iterator = (0, _createForOfIteratorHelper2.default)(_this.resultJson),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            print(item);\n\n            for (var key in item) {\n              //填埋排放\n              //CO2抵消\n              if (key == 'e15' || key == 'e19' || key == 'e20') {\n                if (offsetCO2[item['a2_sjtu_year']]) offsetCO2[item['a2_sjtu_year']] += item[key];else offsetCO2[item['a2_sjtu_year']] = item[key];\n              } //CH4抵消\n\n\n              if (key == 'e11' || key == 'e16' || key == 'e18') {\n                if (bio[item['a2_sjtu_year']]) bio[item['a2_sjtu_year']] += item[key];else bio[item['a2_sjtu_year']] = item[key];\n              } //N2O\n\n\n              if (key == 'e13' || key == 'e17') {\n                if (b[item['a2_sjtu_year']]) b[item['a2_sjtu_year']] += item[key];else b[item['a2_sjtu_year']] = item[key];\n              }\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        for (var item in bio) {\n          bio[item] = Number(bio[item] * 25).toFixed(3);\n        }\n\n        for (var item in b) {\n          b[item] = Number(b[item] * 298).toFixed(3);\n        }\n\n        _this.burydata = b;\n        _this.biosdata = bio;\n        _this.burndata = bur;\n        _this.totaldata = total;\n        console.log(\"填埋排放\", _this.burydata);\n        console.log(\"CH4\", _this.biosdata);\n        console.log(\"CO2\", _this.burndata);\n        console.log(\"totaldata\", _this.totaldata);\n        console.log(\"offsetCO2\", offsetCO2);\n      };\n    }\n  },\n  computed: (0, _objectSpread2.default)({}, (0, _vuex.mapGetters)(['name'])),\n  mounted: function mounted() {\n    var that = this;\n  }\n};\nexports.default = _default;",null]}