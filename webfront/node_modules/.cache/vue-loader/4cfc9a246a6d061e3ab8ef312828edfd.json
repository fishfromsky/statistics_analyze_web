{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\production\\District\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\production\\District\\index.vue","mtime":1609073358469},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getgarbagedistrict, filtergarbagedistrictbyyear } from '@/api/model'\r\nimport garbagedistrict from './components/productionbar.vue'\r\n    export default {\r\n        name: \"index\",\r\n        components: {\r\n            garbagedistrict\r\n        },\r\n        data(){\r\n            return{\r\n                choose_year: '2020',\r\n                year_option: [],\r\n                chartdata:{\r\n                    district: [],\r\n                    garbage: [],\r\n                    choose_year: '  '\r\n                }\r\n            }\r\n        },\r\n        watch:{\r\n            choose_year(val){\r\n                let data = {}\r\n                data['year'] = val\r\n                filtergarbagedistrictbyyear(data).then(res=>{\r\n                    if (res.code === 20000){\r\n                        console.log(res)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        methods: {\r\n            isInArray: function (arr, value) {\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    if (value === arr[i]) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            },\r\n            filterData:function(){\r\n                let that = this\r\n                let data = {}\r\n                data['year'] = this.choose_year\r\n                filtergarbagedistrictbyyear(data).then(res=>{\r\n                    if (res.code === 20000){\r\n                        let result = res.data\r\n                        for (let i=0; i<result.length; i++){\r\n                            that.chartdata.district.push(result[i].district)\r\n                            that.chartdata.garbage.push(parseFloat(result[i].garbage).toFixed(2))\r\n                        }\r\n                        that.chartdata.choose_year = that.choose_year\r\n                    }\r\n                })\r\n            },\r\n            getData:function(){\r\n                let that = this\r\n                getgarbagedistrict().then(res=>{\r\n                    if (res.code === 20000){\r\n                        let result = res.data\r\n                        for (let i=0; i<result.length; i++){\r\n                            if (!that.isInArray(that.year_option, result[i].year)){\r\n                                that.year_option.push(result[i].year)\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        mounted(){\r\n            this.getData()\r\n            this.filterData()\r\n        }\r\n    }\r\n",null]}