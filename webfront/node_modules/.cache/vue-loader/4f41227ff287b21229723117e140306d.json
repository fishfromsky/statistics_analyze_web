{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\repository\\regression\\programe\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\repository\\regression\\programe\\index.vue","mtime":1641987866623},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport tabledata from './components/tabledata'\r\n\r\nimport { getregressionmodelfile, deletemodelfile} from '@/api/model'\r\n\r\nexport default {\r\n  components: {\r\n    tabledata\r\n  },\r\n  data() {\r\n    return {\r\n      level: '',\r\n      kind: '',\r\n      kind_option: [\r\n        {\r\n          value: '1',\r\n          label: '多元非线性回归'\r\n        }\r\n      ],\r\n      tableData: [],\r\n      table_loading: false,\r\n      fileList: [],\r\n    }\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  methods: {\r\n    handleSuccess: function () {\r\n      this.getFileList();\r\n    },\r\n    handleError:function(){\r\n      this.$message.error('上传文件失败')\r\n    },\r\n    handleDownload(val){\r\n      window.open('http://101.133.238.216:8000/'+this.tableData[val].path)\r\n    },\r\n    handleDelete(val){\r\n      let that = this\r\n      let data = {}\r\n      data['url'] = this.tableData[val].path\r\n      deletemodelfile(data).then(res=>{\r\n        if (res.code === 20000){\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功'\r\n          })\r\n          that.getFileList()\r\n        }\r\n      })\r\n    },\r\n    getFileList: function () {\r\n      let that = this;\r\n      this.tableData = [];\r\n      this.table_loading = true;\r\n      getregressionmodelfile().then((res) => {\r\n        if (res.code === 20000) {\r\n          let data = res.data;\r\n          that.table_loading = false;\r\n          for (let i = 0; i < data.length; i++) {\r\n            let dict = {};\r\n            dict[\"index\"] = i;\r\n            dict[\"name\"] = data[i].name;\r\n            dict[\"path\"] = data[i].url;\r\n            let splttime = data[i].url.split(\"/\");\r\n            dict[\"time\"] =\r\n              splttime[splttime.length - 4] +\r\n              \"年\" +\r\n              splttime[splttime.length - 3] +\r\n              \"月\" +\r\n              splttime[splttime.length - 2] +\r\n              \"日\";\r\n            that.tableData.push(dict);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    addData() {\r\n      if (this.kind === ''){\r\n        this.$message.error('请选择项目编号')\r\n      }\r\n      else{\r\n        this.$refs.tabledata.addPrograme()\r\n      }\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    this.getFileList()\r\n  }\r\n}\r\n",null]}