{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\dashboard\\admin\\components\\ModelKind.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\src\\views\\dashboard\\admin\\components\\ModelKind.vue","mtime":1609073358358},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n\r\nimport echarts from 'echarts'\r\nimport resize from './mixins/resize'\r\n\r\nimport data from './mapdata/heat_data.json'\r\nimport shanghai from \"./mapdata/shanghai.json\"\r\necharts.registerMap(\"shanghai\", shanghai);\r\n\r\nvar lngExtent = [30.6882888542, 31.8830482032]\r\nvar latExtent = [120.863603906, 122.247009468]\r\nvar cellCount = [134, 155]\r\nvar cellSizeCoord = [\r\n  (lngExtent[1] - lngExtent[0]) / cellCount[0],\r\n  (latExtent[1] - latExtent[0]) / cellCount[1]\r\n]\r\n\r\nexport default {\r\n  name: 'GDP',\r\n  data() {\r\n    return {\r\n      chart: echarts.ECharts\r\n    }\r\n  },\r\n  watch: {\r\n    \r\n  },\r\n  mounted() {\r\n    this.initChart()\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return\r\n    }\r\n    this.chart.dispose()\r\n    this.chart = null\r\n  },\r\n  methods: {\r\n    getCoord(params, api, lngIndex, latIndex) {\r\n      var coords = params.context.coords || (params.context.coords = [])\r\n      var key = lngIndex + '-' + latIndex\r\n\r\n      // bmap returns point in integer, which makes cell width unstable.\r\n      // So we have to use right bottom point.\r\n      return coords[key] || (coords[key] = api.coord([\r\n        +(latExtent[0] + lngIndex * cellSizeCoord[0]).toFixed(6),\r\n        +(lngExtent[0] + latIndex * cellSizeCoord[1]).toFixed(6)\r\n      ]))\r\n    },\r\n\r\n    renderItem(params, api) {\r\n      var lngIndex = api.value(0)\r\n      var latIndex = api.value(1)\r\n      var pointLeftTop = this.getCoord(params, api, lngIndex, latIndex)\r\n      var pointRightBottom = this.getCoord(params, api, lngIndex + 1, latIndex + 1)\r\n\r\n      return {\r\n        type: 'rect',\r\n        shape: {\r\n          x: pointLeftTop[0],\r\n          y: pointLeftTop[1],\r\n          width: pointRightBottom[0] - pointLeftTop[0],\r\n          height: pointRightBottom[1] - pointLeftTop[1]\r\n        },\r\n        style: api.style({\r\n          stroke: 'rgba(0,0,0,0)'\r\n        }),\r\n        styleEmphasis: api.styleEmphasis()\r\n      }\r\n    },\r\n    initChart() {\r\n      this.chart = echarts.init(this.$refs.map);\r\n      this.chart.setOption({\r\n        tooltip: {},\r\n        visualMap: {\r\n          type: 'continuous',\r\n          min: 0,\r\n          max: 60000,\r\n          top: 10,\r\n          left: 10,\r\n          range: [1, 60000],\r\n          inRange: {\r\n            color: ['#AFEEEE', '#FAE900', '#F6AE00', '#C41A1A'],\r\n            colorAlpha: [0.8, 0.9]\r\n          },\r\n          outOfRange: {\r\n            color: ['rgba(0,0,0,0)'],\r\n            opacity: 0\r\n          }\r\n        },\r\n        series: [\r\n          {\r\n            type: 'custom',\r\n            coordinateSystem: 'geo',\r\n            renderItem: this.renderItem,\r\n            animation: false,\r\n            emphasis: {\r\n              itemStyle: {\r\n                color: 'yellow'\r\n              }\r\n            },\r\n            encode: {\r\n              tooltip: 2\r\n            },\r\n            data: data\r\n          }\r\n        ],\r\n        geo: {\r\n          map: \"shanghai\",\r\n          zoom: 1.2,\r\n          center: [121.477665, 31.226048],\r\n          label: {\r\n            emphasis: {\r\n              show: true,\r\n              textStyle: {\r\n                color: \"#fff\",\r\n              },\r\n            },\r\n          },\r\n          roam: true, //是否允许缩放\r\n          itemStyle: {\r\n            normal: {\r\n              color: \"#101f32\", //地图背景色\r\n              borderColor: \"#43d0d6\", //省市边界线\r\n              borderWidth: 1.1,\r\n            },\r\n            emphasis: {\r\n              color: \"#43d0d6\", //悬浮背景\r\n            },\r\n          },\r\n        },\r\n      })\r\n    },\r\n  }\r\n}\r\n",null]}