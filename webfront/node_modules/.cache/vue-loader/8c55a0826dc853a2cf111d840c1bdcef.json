{"remainingRequest":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\member\\components\\Superuser.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\src\\views\\member\\components\\Superuser.vue","mtime":1609073358424},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\projectsAll\\statistics_analyze_web_2\\webfront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getsuperuser, fetchsuperuser, addsuperuser } from '@/api/user'\nimport {deletesuperuser} from \"../../../api/user\";\n\nexport default {\n    name: 'Superuser',\n    data(){\n        return {\n            search_name: '',\n            tableKey: 0,\n            currentPage: 0,\n            total:1,\n            listQuery: [],\n            loading: false,\n            add_dialog: false,\n            delete_dialog: false,\n            form: {\n                name: '',\n                password: '',\n                email: '',\n                phone: ''\n            },\n            formLabelWidth: '100px',\n            deleteId: null\n        }\n    },\n    methods: {\n        handleSearch:function(){\n            var that = this;\n            that.loading = true;\n            setTimeout(function () {\n                that.loading = false\n            }, 1000)\n            let dict = {};\n            dict['name'] = this.search_name;\n            fetchsuperuser(dict).then(response => {\n                that.listQuery = response.data\n            })\n        },\n        handleSizeChange:function(){\n\n        },\n        handleCurrentChange:function(){\n\n        },\n        getData:function() {\n            var that = this\n            that.loading = true;\n            setTimeout(function () {\n                that.loading = false\n            }, 1000)\n            getsuperuser().then(response => {\n                that.listQuery = response.data\n            })\n        },\n        addSuperuser:function () {\n            this.add_dialog = true\n        },\n        addConfirm:function () {\n          var that = this;\n          if (this.form.name === '' || this.form.password === '' || this.form.email === '' || this.form.phone === ''){\n              this.$message.error('请输入完整数据')\n          }\n          else{\n              addsuperuser(this.form).then(res=>{\n                  if (res.code === 20000){\n                      this.$message({\n                          message: '添加成功',\n                          type:'success'\n                      })\n                      that.add_dialog = false\n                      that.form.name = ''\n                      that.form.password = ''\n                      that.form.email = ''\n                      that.form.phone = ''\n                      that.getData()\n                  }\n              })\n          }\n        },\n        deleteDialog:function (id) {\n          this.deleteId = id\n          this.delete_dialog = true\n        },\n        deleteSuperuser:function () {\n            var that = this;\n            let data = {}\n            data['id'] = this.deleteId\n            deletesuperuser(data).then(res=>{\n                if (res.code === 20000){\n                    this.$message({\n                        message: '删除成功',\n                        type:'success'\n                    })\n                    that.deleteId = null\n                    that.delete_dialog = false\n                    that.getData()\n                }\n            })\n        }\n    },\n    mounted() {\n        this.getData()\n    }\n}\n",null]}